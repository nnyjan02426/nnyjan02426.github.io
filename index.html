<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">

  <!-- custom fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Akaya+Kanadaka&family=Caveat+Brush&family=Caveat:wght@500&display=swap"
    rel="stylesheet">
  <title>NNY's Site</title>
</head>

<body class="page">
  <header>
    <h1>Welcome to Nian-Ying Jan's Website!</h1>
  </header>

  <main>
    <div class="row-1">
      <div id="index">
        <h2>Index</h2>
        <nav>
          <ol>
            <li><a href="#about">About Me</a></li>
            <li><a href="#projects">Projects</a></li>
            <li><a href="#contact">Contact</a></li>
            <li><a href="#funs">FUN INTERACTIVES!</a></li>
          </ol>
        </nav>
      </div>

      <div class="font-controll">
        <p>Change Font Size</p>
        <button id="increase-font">+</button>
        <button id="default-font">Default</button>
        <button id="decrease-font">-</button>
      </div>
    </div>

    <hr>

    <section id="about">
      <h2>About Me</h2>
      <p>just some average uni student</p>
      <p><a href="https://nnyjan02426.github.io/blog" target="_blank">blog</a></p>
    </section>

    <section id="projects">
      <h2>Projects</h2>
      <ul>
        <li>
          <div class="row-project">
            <div id="col-project_name">
              <b>Schedrag</b> <a href="https://github.com/nnyjan02426/Schedrag">[repo link]</a><br>
              Create your time schedule by dragging blocks!
            </div>
            <div id="col-lang">
              <a href="https://flutter.dev/">
                <img class="lang-img" src="https://storage.googleapis.com/cms-storage-bucket/6a07d8a62f4308d2b854.svg"
                  alt="made with flutter" width="160px">
              </a>
            </div>
          </div>
        </li>
      </ul>
    </section>

    <section id="contact">
      <h2>Contacts</h2>
      <ul>
        <li>github: <a href="https://github.com/nnyjan02426">nnyjan02426</a> </li>
        <li>email: <a href="mailto:nnyjan02426@gmail.com">nnyjan02426@gmail.com</a>
      </ul>
    </section>

    <hr>

    <section id="funs">
      <h2>Fun Interactives!</h2>
      <br>
      <div id="coloring">
        <div id="color-input">
          <input type="text" placeholder="#FFFFFF">
          <button>OK!</button>
        </div>
        <div id="color-box" class="box">
          <p></p>
        </div>
      </div>

      <div id="quote">
        <br>
        <button id="quote-button">GET QUOTE</button>
        <div id="quote-box" class="box">
          <p id="quote-text"></p>
          <p id="quote-cite"></p>
        </div>
      </div>

    </section>
  </main>

  <footer>
    <p>website created by nnyjan02426</p>
    <p>Last updated: <span id="last-modified"></span></p>
  </footer>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    // font controll
    let fontSizePercentage = 100;
    $("body").css("font-size", fontSizePercentage + "%");
    $("#increase-font").click(function () {
      fontSizePercentage += 10;
      $("body").css("font-size", fontSizePercentage + "%");
    })
    $("#default-font").click(function () {
      fontSizePercentage = 100;
      $("body").css("font-size", fontSizePercentage + "%");
    })
    $("#decrease-font").click(function () {
      if (fontSizePercentage <= 50) return;
      fontSizePercentage -= 10;
      $("body").css("font-size", fontSizePercentage + "%");
    })

    // color-box
    document.querySelector("#color-box > p").textContent = "try changing the color of this box!";
    document.querySelector('#color-input > button').addEventListener('click', function () {
      const colorValue = document.querySelector('#color-input > input').value;
      const validInput = /^#([0-9A-F]{3}|[0-9A-F]{6})$/i.test(colorValue);

      if (validInput) {
        document.getElementById('color-box').style.backgroundColor = colorValue; // Change the box color
        document.querySelector("#color-box > p").textContent = "";
      } else {
        alert('Invalid input.\nPlease enter a valid hex color code.\n(e.g., #2a321f).');
      }
    });

    // quote
    document.getElementById("quote-text").textContent = "click on the button to get a random quote!";
    document.addEventListener("DOMContentLoaded", () => {
      const button = document.getElementById("quote-button");
      const quote = document.getElementById("quote-text");
      const cite = document.getElementById("quote-cite");

      async function updateQuote() {
        const response = await fetch("https://quoteslate.vercel.app/api/quotes/random");
        const json = await response.json();
        if (response.ok) {
          quote.textContent = json.quote;
          cite.textContent = "- " + json.author;
        } else {
          quote.textContent = "An error occured";
          console.log(data);
        }
      }

      button.addEventListener("click", updateQuote);
    })

    // Get the last modified date of website
    document.getElementById("last-modified").textContent = document.lastModified;
  </script>
</body>

</html>
